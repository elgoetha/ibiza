<!DOCTYPE html>
<html lang="nl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vrijgezellenfeest Ibiza - Vragen voor Aline</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/icon?family=Material+Symbols+Outlined" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
        }
        .vraag-nummer {
            font-size: 1.25rem;
            font-weight: 500;
            color: #6b7280; /* Text Gray 400 */
            margin-bottom: 0.5rem;
        }
        .antwoord-input-container { /* Nieuwe container voor input en knop */
            display: flex;
            align-items: center;
            width: 100%;
            margin-bottom: 1rem;
        }
        .antwoord-input {
            border-radius: 0.5rem 0 0 0.5rem; /* Rounded md left */
            padding: 0.75rem;      /* Padding 3 */
            border: 1px solid #d1d5db;  /* Border Gray 300 */
            width: 100%;
            font-size: 1rem;         /* Text base */
            box-shadow: inset 0 2px 4px rgba(0,0,0,0.06); /* Inner shadow */
            border-right: none; /* Remove right border */
        }
        .antwoord-input:focus {
            outline: none;
            border-color: #3b82f6;  /* Border Blue 500 */
            box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.15); /* Ring Blue 200 */
        }
        .verzend-knop {
            border-radius: 0 0.5rem 0.5rem 0; /* Rounded md right */
            padding: 0.75rem;      /* Padding 3 */
            background-color: #3b82f6;  /* Bg Blue 500 */
            color: #fff;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition-duration: 300ms; /* Transition duration 300ms */
            box-shadow: 0 2px 5px rgba(0,0,0,0.2); /* Add shadow */
            aspect-ratio: 1; /* Keep it square */
            border: none; /* Remove border */
        }
        .verzend-knop:hover {
            background-color: #2563eb;  /* Bg Blue 700 on hover */
        }
        .feedback-bericht {
            margin-top: 1rem;
            font-weight: 500;
            border-radius: 0.375rem; /* rounded-md */
            padding: 0.75rem;        /* py-3 px-4 */
        }
        .correct {
            background-color: #f0fdf4; /* bg-green-100 */
            color: #15803d;          /* text-green-600 */
            border: 1px solid #16a34a;  /* border-green-500 */
        }
        .incorrect {
            background-color: #fef2f2; /* bg-red-100 */
            color: #b91c1c;          /* text-red-700 */
            border: 1px solid #dc2626;  /* border-red-500 */
        }
        .overgeslagen {
            background-color: #fef08a; /* bg-yellow-100 */
            color: #78350f;          /* text-yellow-800 */
            border: 1px solid #fcd34d;  /* border-yellow-300 */
        }
    </style>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        'inter': ['Inter', 'sans-serif'],
                    },
                },
            },
        }
    </script>
</head>
<body class="bg-gradient-to-r from-purple-400 to-pink-500 min-h-screen flex justify-center items-center py-10">
    <div class="bg-white rounded-lg shadow-xl p-8 max-w-md w-full text-center">
        <h1 class="text-2xl font-semibold text-blue-600 mb-6">Question for the bachelor</h1>
        <div id="vraag-container" class="mb-6">
            <p id="vraag-nummer" class="vraag-nummer"></p>
            <p id="vraag-tekst" class="text-lg text-gray-700"></p>
            <div class="antwoord-input-container">
                <input type="text" id="antwoord-input" class="antwoord-input" placeholder="Your answer...">
                <button id="verzend-knop" class="verzend-knop">
                    <span class="material-symbols-outlined">send</span>
                </button>
            </div>
        </div>
        <div id="feedback-container" class="feedback-bericht" style="display: none;"></div>
        <div id="error-container" style="display: none;">
            <p class="text-red-600 font-medium">Er is een fout opgetreden.</p>
        </div>
    </div>

    <script>
        const vragen = [
            "Wat is Aline's favoriete kleur?",
            "Waar ging Aline's eerste vakantie heen?",
            "Wat is Aline's lievelingseten?",
            "Heeft Aline een verborgen talent?",
            "Wat is Aline's grootste droom?",
            "Welk lied doet Aline altijd dansen?",
            "Wat is Aline's grappigste gewoonte?",
            "Wat is het gekste dat Aline ooit heeft gedaan?",
            "Wat is Aline's favoriete dier?",
            "Welk boek of film kan Aline eindeloos herbekijken?",
        ];

        let beantwoordeVragen = JSON.parse(localStorage.getItem('beantwoordeVragen')) || [];
        let overgeslagenVragen = JSON.parse(localStorage.getItem('overgeslagenVragen')) || [];
        let vraagIndex;
        let eersteLoad = true; // Nieuwe variabele om te controleren of het de eerste keer laden is

        function getVraag() {
            if (beantwoordeVragen.length + overgeslagenVragen.length >= vragen.length) {
                document.getElementById('vraag-tekst').textContent = "Alle vragen zijn beantwoord of overgeslagen! Bedankt voor het meedoen!";
                document.getElementById('vraag-nummer').textContent = "";
                document.getElementById('antwoord-container').style.display = 'none';
                document.querySelector('.mt-6').style.display = 'none'; // Verberg de link naar overzicht
                return;
            }

            if (eersteLoad) { // Alleen bij de eerste keer laden of refreshen
                let laagsteNietOvergeslagenIndex = -1;
                for (let i = 0; i < vragen.length; i++) {
                    if (!overgeslagenVragen.includes(i)) {
                        laagsteNietOvergeslagenIndex = i;
                        break;
                    }
                }

                if (laagsteNietOvergeslagenIndex !== -1) {
                    vraagIndex = laagsteNietOvergeslagenIndex;
                } else {
                    // Als alle vragen zijn overgeslagen, kunnen we een willekeurige vraag kiezen of een eindbericht tonen.
                    vraagIndex = Math.floor(Math.random() * vragen.length); // Tijdelijke oplossing
                    document.getElementById('vraag-tekst').textContent = "Alle vragen zijn overgeslagen, maar hier is er toch een."; //temp
                }
                eersteLoad = false; // Zet op false zodat de vraag niet verandert bij antwoorden
            }

            document.getElementById('vraag-nummer').textContent = `Question ${vraagIndex + 1}`;
            document.getElementById('vraag-tekst').textContent = vragen[vraagIndex];
            document.getElementById('antwoord-container').style.display = 'flex'; // Zorg dat input en knop zichtbaar zijn
            document.getElementById('antwoord-input').value = ''; // Clear input field
            document.getElementById('feedback-container').style.display = 'none'; // Clear feedback
        }

        function controleerAntwoord() {
            const antwoordInput = document.getElementById('antwoord-input');
            const feedbackContainer = document.getElementById('feedback-container');
            const antwoord = antwoordInput.value.trim();

             // Dummy antwoordencheck.  Pas aan indien je echte antwoorden hebt.
            const correcteAntwoorden = [
                "paars",
                "onbekend",
                "pizza",
                "ja",
                "wereldreis",
                "dance_song", // Vervang dit
                "gekke gewoonte", // Vervang dit
                "iets geks",    // Vervang dit
                "kat",
                "Harry Potter",
            ];

            if (antwoord.toLowerCase() === correcteAntwoorden[vraagIndex].toLowerCase()) { // Vereenvoudigde check
                feedbackContainer.textContent = "Correct! Goed gedaan!";
                feedbackContainer.className = "feedback-bericht correct";
            } else {
                feedbackContainer.textContent = "Incorrect, probeer nog eens!";
                feedbackContainer.className = "feedback-bericht incorrect";
            }

            feedbackContainer.style.display = 'block';
            localStorage.setItem('laatstBeantwoordeVraag', vraagIndex); // Store the last answered question
            setTimeout(() => {
                getVraag();
            }, 3000);
        }

        document.getElementById('verzend-knop').addEventListener('click', controleerAntwoord);

        getVraag();
    </script>
</body>
</html>
